<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>重置交易密码 - Whalet</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../styles/custom.css">
    <style>
        body {
            background-color: #f9fafb;
            font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;
        }
        .input-with-icon {
            position: relative;
        }
        .input-with-icon input {
            padding-left: 2.5rem;
        }
        .input-with-icon i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #9CA3AF;
        }
        /* Container max-width */
        .container {
            max-width: 1200px;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="container mx-auto px-4 py-8">
        <div class="max-w-6xl mx-auto bg-white rounded-lg shadow-sm">
            <!-- 头部 -->
            <div class="p-6 border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <a href="security.html" class="text-purple-600 hover:text-purple-700 mr-2">
                            <i class="fas fa-arrow-left"></i>
                        </a>
                        <a href="security.html" class="text-purple-600 hover:text-purple-700 mr-4">返回</a>
                        <h1 class="text-xl font-semibold text-gray-800">重置交易密码</h1>
                    </div>
                    <a href="security.html" class="text-gray-400 hover:text-gray-600 transition-colors">
                        <i class="fas fa-times text-xl"></i>
                    </a>
                </div>
            </div>

            <!-- 主要内容区域 -->
            <div class="p-6">
                <!-- 重置密码表单 -->
                <div class="max-w-2xl mx-auto space-y-4">
                    <!-- 记得密码的情况 -->
                    <div class="border rounded-lg overflow-hidden">
                        <button class="w-full px-6 py-4 bg-white flex items-center justify-between text-left hover:bg-gray-50" onclick="togglePanel('remember-password')">
                            <div class="flex items-center">
                                <div class="w-6 h-6 rounded-full bg-purple-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-key text-purple-600 text-sm"></i>
                                </div>
                                <span class="text-lg font-medium text-gray-900">我记得当前交易密码</span>
                            </div>
                            <i class="fas fa-chevron-down text-gray-400 transform transition-transform" id="remember-password-icon"></i>
                        </button>
                        <div class="bg-white px-6 pb-6" id="remember-password-panel">
                            <div class="space-y-4 pt-4">
                                <!-- 当前密码输入框 -->
                                <div class="input-with-icon">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" required
                                           placeholder="请输入当前交易密码" 
                                           class="w-full p-2 pl-10 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>

                                <!-- 新密码输入框 -->
                                <div class="input-with-icon">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" required
                                           placeholder="请输入新交易密码" 
                                           class="w-full p-2 pl-10 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>

                                <!-- 确认新密码输入框 -->
                                <div class="input-with-icon">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" required
                                           placeholder="请再次输入新交易密码" 
                                           class="w-full p-2 pl-10 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>

                                <!-- 验证码 -->
                                <div class="space-y-2">
                                    <div class="flex space-x-4">
                                        <div class="input-with-icon flex-1">
                                            <i class="fas fa-shield-alt"></i>
                                            <input type="text" required
                                                   placeholder="请输入验证码" 
                                                   class="w-full p-2 pl-10 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                        </div>
                                        <button type="button" class="verify-code-btn px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors whitespace-nowrap">
                                            获取验证码
                                        </button>
                                    </div>
                                    <p class="text-sm text-gray-500">为了您的账户安全，我们将会发送验证码至86-132 **** 2514</p>
                                </div>

                                <!-- 确认更新按钮 -->
                                <button type="submit" class="w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors">
                                    确认更新
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- 忘记密码的情况 -->
                    <div class="border rounded-lg overflow-hidden">
                        <button class="w-full px-6 py-4 bg-white flex items-center justify-between text-left hover:bg-gray-50" onclick="togglePanel('forgot-password')">
                            <div class="flex items-center">
                                <div class="w-6 h-6 rounded-full bg-gray-100 flex items-center justify-center mr-3">
                                    <i class="fas fa-question text-gray-600 text-sm"></i>
                                </div>
                                <span class="text-lg font-medium text-gray-900">我忘记了当前交易密码</span>
                            </div>
                            <i class="fas fa-chevron-down text-gray-400 transform transition-transform" id="forgot-password-icon"></i>
                        </button>
                        <div class="bg-white px-6 pb-6 hidden" id="forgot-password-panel">
                            <div class="space-y-4 pt-4">
                                <!-- 身份验证 -->
                                <div class="input-with-icon">
                                    <i class="fas fa-id-card"></i>
                                    <input type="text" required
                                           placeholder="请输入身份证号后4位" 
                                           class="w-full p-2 pl-10 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>

                                <!-- 新密码输入框 -->
                                <div class="input-with-icon">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" required
                                           placeholder="请输入新交易密码" 
                                           class="w-full p-2 pl-10 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>

                                <!-- 确认新密码输入框 -->
                                <div class="input-with-icon">
                                    <i class="fas fa-lock"></i>
                                    <input type="password" required
                                           placeholder="请再次输入新交易密码" 
                                           class="w-full p-2 pl-10 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                </div>

                                <!-- 验证码 -->
                                <div class="space-y-2">
                                    <div class="flex space-x-4">
                                        <div class="input-with-icon flex-1">
                                            <i class="fas fa-shield-alt"></i>
                                            <input type="text" required
                                                   placeholder="请输入验证码" 
                                                   class="w-full p-2 pl-10 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                        </div>
                                        <button type="button" class="verify-code-btn px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors whitespace-nowrap">
                                            获取验证码
                                        </button>
                                    </div>
                                    <p class="text-sm text-gray-500">为了您的账户安全，我们将会发送验证码至86-132 **** 2514</p>
                                </div>

                                <!-- 确认更新按钮 -->
                                <button type="submit" class="w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors">
                                    确认更新
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function togglePanel(panelId) {
            const panel = document.getElementById(`${panelId}-panel`);
            const icon = document.getElementById(`${panelId}-icon`);
            const otherPanelId = panelId === 'remember-password' ? 'forgot-password' : 'remember-password';
            const otherPanel = document.getElementById(`${otherPanelId}-panel`);
            const otherIcon = document.getElementById(`${otherPanelId}-icon`);

            // 关闭另一个面板
            if (!otherPanel.classList.contains('hidden')) {
                otherPanel.classList.add('hidden');
                otherIcon.classList.remove('rotate-180');
            }

            // 切换当前面板
            panel.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        }

        // 默认展开"我记得当前交易密码"面板
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('remember-password-panel').classList.remove('hidden');

            // 处理验证码按钮
            const verifyButtons = document.querySelectorAll('.verify-code-btn');
            verifyButtons.forEach(button => {
                let countdown = 60;
                let timer = null;

                button.addEventListener('click', function() {
                    if (timer) return;
                    
                    this.disabled = true;
                    this.classList.add('bg-gray-400');
                    this.classList.remove('bg-purple-600', 'hover:bg-purple-700');
                    
                    timer = setInterval(() => {
                        countdown--;
                        this.textContent = `${countdown}秒后重新获取`;
                        
                        if (countdown <= 0) {
                            clearInterval(timer);
                            timer = null;
                            countdown = 60;
                            this.textContent = '获取验证码';
                            this.disabled = false;
                            this.classList.remove('bg-gray-400');
                            this.classList.add('bg-purple-600', 'hover:bg-purple-700');
                        }
                    }, 1000);
                });
            });
        });
    </script>
</body>
</html> 